<!DOCTYPE html>
<html>

<head></head>

<body>
  <main>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissor">scissor</button>
  </main>


  <script>
    let computerPlay = () => {
      rand = Math.floor(Math.random() * 3) + 1; // random num from 1 to 3
      switch (rand) {
        case 1:
          return 'rock';
          break;
        case 2:
          return 'paper';
          break;
        case 3:
          return 'scissor';
          break;
      }
    };

    let playRound = (playerSelection, computerSelection) => {
      ps = playerSelection.toLowerCase();
      cs = computerSelection.toLowerCase();

      if (
        (ps === 'rock' && cs === 'scissor') ||
        (ps === 'paper' && cs === 'rock') ||
        (ps == 'scissor' && cs === 'paper')) {
        return `You win! ${ps} beats ${cs}`;
      } else if (
        (cs === 'rock' && ps === 'scissor') ||
        (cs === 'paper' && ps === 'rock') ||
        (cs == 'scissor' && ps === 'paper')) {
        return `You lose! ${cs} beats ${ps}`;
      } else {
        return 'This is a tie';
      }
    };

    let game = ps => {
      //   for (let i = 0; i < 5; ++i) {
      //     ps = prompt(`Select rock, paper, or scissor (round ${i + 1}): `);

      //     cs = computerPlay();
      //     console.log(playRound(ps, cs));
      //   }
      cs = computerPlay();
      // console.log(playRound(ps, cs));
      let strResults = (playRound(ps, cs));

      const main = document.querySelector('main');
      const resultsDiv = document.createElement('div');
      const results = document.createElement('p');

      results.textContent = strResults;
      resultsDiv.appendChild(results);
      main.appendChild(resultsDiv);
    };

    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
      button.addEventListener('click', e => {
        // console.log(e.target.id);
        game(e.target.id);
      })
    })
  </script>
</body>

</html>